$(document).ready(function(){function e(){menuAnim=new TimelineMax({yoyo:!0,smoothChildTiming:!0,paused:!0}),menuAnim.staggerFromTo(n,.8,{x:-80,rotationX:-35,rotationY:0,rotationZ:0,transformOrigin:"50% 50%"},{x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,autoAlpha:1,ease:Sine.easeOut},.2),d=!1}function o(e){e===!0?TweenMax.to(c,1,{opacity:.1,ease:Sine.easeOut}):TweenMax.to(c,1,{opacity:1,ease:Sine.easeOut})}function t(e,o){"lyrics"===o&&($element=e.parent().parent().siblings(".music-item_lyrics")),"credits"===o&&($element=e.parent().parent().siblings(".music-item_credits")),$element.show(),h=$element.outerHeight(),yPos=$element.offset().top,$element.hide(),console.log(yPos),TweenMax.to(window,1,{scrollTo:{y:yPos},ease:Cubic.easeInOut}),setTimeout(function(){TweenMax.fromTo($element,2,{height:0,display:"block"},{height:h,autoAlpha:1,rotationZ:0,ease:Sine.easeOut})},1e3)}function a(e){$element=e.parent(),$element.slideUp(2e3)}function s(e,o){$(".overlay-centered").remove();var t='<div class="row overlay-centered collapse">';for(t+='<h3 class="centered">'+e+"</h3>",t+='<div class="gimage medium-8 medium-offset-2">',i=0;i<o.length;i++)t+='<img src="/assets/img/'+o[i]+'" data-src="'+o[i]+'">';return t+="</div>",t+=' <div class="gnav"><span class="icon-arrow-left"></span><span class="icon-arrow-right"></span></div>'}var n,l,r,c,d,h,m,u,f,v,p,y,w,T,g,x,b,k,A,M,C,O;n=$(".js-nav-links li"),l=$(".js-nav-menu"),r=$(".header"),c=$(".js-logo"),u=$(".js-lyrics-link"),f=$(".js-credits-link"),v=$(".js-lyrics-close"),p=$(".js-credits-close"),w=$(".js-share"),T=$(".js-social-share"),g=$(".share"),b=$(".video-thumbs .item"),k=$(".fitVideo"),A=$(".overlay"),y=$(".js-overlay-close"),M=A.find(".overlay-centered"),C=$(".js-video-link"),O=$(".media-item"),Modernizr.mq("(max-width: 600px)")&&$(".js-fitText").fitText(.4),e(),l.on("click",function(){d===!1?(menuAnim.play(),Modernizr.mq("(max-width: 600px)")&&r.addClass("showMobile"),Modernizr.mq("(max-width: 1000px)")&&o(!0)):(menuAnim.reverse(),r.removeClass("showMobile"),Modernizr.mq("(max-width: 1000px)")&&o(!1)),d=!d}),n.on("mouseover",function(){TweenMax.to(n.not(this).find("a"),.6,{opacity:.1,ease:Sine.easeIn}),TweenMax.to($(this).find("a"),.6,{scale:1.2,ease:Sine.easeOut})}).on("mouseout",function(){TweenMax.to(n.find("a"),2,{opacity:1,scale:1,ease:Sine.easeIn})}),u.on("click",function(){t($(this),"lyrics")}),v.on("click",function(){a($(this))}),f.on("click",function(){t($(this),"credits")}),p.on("click",function(){a($(this))}),g.on("mouseenter",function(){TweenMax.fromTo(T,1.4,{x:50,autoAlpha:0,display:"inline-block",z:0},{x:0,autoAlpha:1,ease:Back.easeInOut})}).on("mouseleave",function(){TweenMax.fromTo(T,1.4,{x:0,autoAlpha:1},{x:50,autoAlpha:0,display:"none",z:0,ease:Back.easeInOut})}),$(window).on("scroll",function(){clearTimeout(x),$("body").hasClass("disable-hover")||$("body").addClass("disable-hover"),x=setTimeout(function(){$("body").removeClass("disable-hover")},300)}),b.on("mouseenter",function(e){$(this).hasClass("hovered")||$(this).addClass("hovered")}).on("mouseleave",function(){$(this).hasClass("hovered")&&$(this).removeClass("hovered")}),k.length>0&&k.fitVids(),y.on("click",function(e){ov.to(A,1,{z:0,autoAlpha:0}),A.find("iframe").attr("src",""),e.preventDefault()}),C.on("click",function(e){$this=$(this),console.log($this.attr("data-youtube")),ov=new TimelineMax({yoyo:!0,smoothChildTiming:!0}),ov.fromTo(A,1.2,{z:0,width:0,autoAlpha:0,delay:2},{autoAlpha:1,width:"100%",ease:"Back.easeOut"}),ov.fromTo(M,2,{z:0,autoAlpha:0},{autoAlpha:1,ease:"Back.easeOut"}),A.find("h3").html($this.find(".title").html()),A.find("iframe").attr("src","//www.youtube.com/embed/"+$this.attr("data-youtube")+"?rel=0&controls=1&showinfo=0"),A.find(".overlay-description").html($this.find(".description .centered").html()),e.preventDefault()}),O.on("mouseenter",function(){$(this).hasClass("hovered")||$(this).addClass("hovered")}).on("mouseleave",function(){$(this).hasClass("hovered")&&$(this).removeClass("hovered")}).on("click",function(e){ov=new TimelineMax({yoyo:!0,smoothChildTiming:!0}),ov.fromTo(A,1.2,{z:0,width:0,autoAlpha:0,delay:2},{autoAlpha:1,width:"100%",ease:"Back.easeOut"}),ov.fromTo(M,2,{z:0,autoAlpha:0},{autoAlpha:1,ease:"Back.easeOut"}),$this=$(this),gTitle=$this.find(".media-item_description").text(),gImages=$this.data("images").split(", "),A.prepend($(s(gTitle,gImages))),$(".overlay.overlay-centered").fadeIn().css({visibility:"visible"}),e.preventDefault()})});