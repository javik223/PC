$(document).ready(function(){function e(){menuAnim=new TimelineMax({yoyo:!0,smoothChildTiming:!0,paused:!0}),menuAnim.staggerFromTo(o,.8,{x:-80,rotationX:-35,rotationY:0,rotationZ:0,transformOrigin:"50% 50%"},{x:0,y:0,z:0,rotationX:0,rotationY:0,rotationZ:0,autoAlpha:1,ease:Sine.easeOut},.2),c=!1}function n(e){e===!0?TweenMax.to(l,1,{opacity:.1,ease:Sine.easeOut}):TweenMax.to(l,1,{opacity:1,ease:Sine.easeOut})}function i(e,n){"lyrics"===n&&($element=e.parent().parent().siblings(".music-item_lyrics")),"credits"===n&&($element=e.parent().parent().siblings(".music-item_credits")),$element.show(),r=$element.outerHeight(),yPos=$element.offset().top,$element.hide(),console.log(yPos),TweenMax.to(window,1,{scrollTo:{y:yPos},ease:Cubic.easeInOut}),setTimeout(function(){TweenMax.fromTo($element,2,{height:0,display:"block"},{height:r,autoAlpha:1,rotationZ:0,ease:Sine.easeOut})},1e3)}function t(e){$element=e.parent(),$element.slideUp(2e3)}var o,a,s,l,c,r,m,u,d,h,p,f,x,y;o=$(".js-nav-links li"),a=$(".js-nav-menu"),s=$(".header"),l=$(".js-logo"),u=$(".js-lyrics-link"),d=$(".js-credits-link"),h=$(".js-lyrics-close"),p=$(".js-credits-close"),f=$(".js-share"),x=$(".js-social-share"),y=$(".share"),Modernizr.mq("(max-width: 600px)")&&$(".js-fitText").fitText(.4),e(),a.on("click",function(){c===!1?(menuAnim.play(),Modernizr.mq("(max-width: 600px)")&&s.addClass("showMobile"),Modernizr.mq("(max-width: 1000px)")&&n(!0)):(menuAnim.reverse(),s.removeClass("showMobile"),Modernizr.mq("(max-width: 1000px)")&&n(!1)),c=!c}),o.on("mouseover",function(){TweenMax.to(o.not(this).find("a"),.6,{opacity:.1,ease:Sine.easeIn}),TweenMax.to($(this).find("a"),.6,{scale:1.2,ease:Sine.easeOut})}).on("mouseout",function(){TweenMax.to(o.find("a"),2,{opacity:1,scale:1,ease:Sine.easeIn})}),u.on("click",function(){i($(this),"lyrics")}),h.on("click",function(){t($(this))}),d.on("click",function(){i($(this),"credits")}),p.on("click",function(){t($(this))}),y.on("mouseenter",function(){TweenMax.fromTo(x,1.4,{x:50,autoAlpha:0,display:"inline-block",z:0},{x:0,autoAlpha:1,ease:Back.easeInOut})}).on("mouseleave",function(){TweenMax.fromTo(x,1.4,{x:0,autoAlpha:1},{x:50,autoAlpha:0,display:"none",z:0,ease:Back.easeInOut})}),$(".media-items").packery({itemSelector:".media-item",isInitLayout:!0})});